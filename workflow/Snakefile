IMGNSTEMS=[
"n01440764",
"n02102040",
"n02979186",
"n03000684",
"n03028079",
"n03394916",
"n03417042",
"n03425413",
"n03445777",
"n03888257"
    ]


rule imagenette_all:
    input: expand("data/imagenette2-320-all/{classdir}",classdir=IMGNSTEMS)

rule imagenette_unpack:
    input: "imagenette2-320.tgz"
    output: rootdir=directory("data"),
            tocheck1="data/imagenette2-320/val/n02979186/n02979186_7492.JPEG",
            tocheck2="data/imagenette2-320/noisy_imagenette.csv"
    shell: "cd {output.rootdir} && tar xf ../{input}"

rule imagenette_combine:
    input: "data/imagenette2-320/val/{classdir}", "data/imagenette2-320/train/{classdir}"
    output: directory("data/imagenette2-320-all/{classdir}")
    shell: "mkdir {output} && cp -ur {input[0]}/*JPEG {input[1]}/*JPEG {output}"

